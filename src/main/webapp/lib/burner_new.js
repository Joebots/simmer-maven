!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();t.exports=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.children=[]}return i(t,[{key:"draw",value:function(){}},{key:"update",value:function(){}},{key:"setDirty",value:function(t){this.isDirty=t}}]),t}()},function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.running=!1}return i(t,[{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.tree=n,this.stop(),this.context=origami(t),this.drawBackground()}},{key:"start",value:function(){this.running=!0,this.run()}},{key:"stop",value:function(){this.running=!1}},{key:"run",value:function(){var t=this;this.running&&(this.render(this.tree),window.requestAnimationFrame(function(){return t.run()}))}},{key:"render",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n){n.isDirty&&(n.update(),n.draw(t.context),n.setDirty(!1),t.context.draw()),t.render(n.children)})}},{key:"drawBackground",value:function(){this.context.background("black").draw()}},{key:"drawBorder",value:function(){this.context.border({border:"1px solid #F00"}).draw()}},{key:"reset",value:function(){this.context.clear()}}]),t}();t.exports=r},function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=e(0);t.exports=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.config=t,e.connections=[],e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r),i(n,[{key:"load",value:function(t){var n=this;return this.reset(),new Promise(function(e){setTimeout(function(){n.connections=t.map(function(t){return{background:{type:"circle",x:t.x,y:t.y,width:n.config.width,color:n.config.color},title:t.title}}),e()})})}},{key:"reset",value:function(){this.highlight([])}},{key:"highlight",value:function(t){this.highlighted=t||Array.apply(null,{length:this.connections.length}).map(Number.call,Number),this.setDirty(!0)}},{key:"update",value:function(){var t=this;this.connections.forEach(function(n,e){return n.active=-1!==t.highlighted.indexOf(e)})}},{key:"draw",value:function(t){this.connections.forEach(function(n){switch(n.background.type){case"circle":n.active?t.arc(n.background.x,n.background.y,n.background.width,{background:n.background.color}).text(n.title,n.background.x,n.background.y,{color:"black",font:"12px Arial",align:"center"}):t.arc(n.background.x,n.background.y,n.background.width,{background:"black"})}})}}]),n}()},function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=e(0);t.exports=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.config=t,e.activeRows={},e.rows=[],e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r),i(n,[{key:"draw",value:function(t){this.rows.forEach(function(n){t.rect(n.x,n.y,n.width,n.height,{background:n.active?"white":"black"})})}},{key:"update",value:function(){var t=this.config.thickness||3,n=this.config.pitch||15,e=0,i=0;this.config.vertical?(e=this.config.width||t,i=this.config.height||n*this.config.rowCount):(e=this.config.width||5*n,i=this.config.height||t);var r=this.config.leftMargin+this.config.offsetX,o=this.config.topMargin+this.config.offsetY;this.rows=[];for(var c=0;c<this.config.rows;c++){var a=this.config.vertical?r+c*n:r,u=this.config.vertical?o:o+c*n,s=e,f=i;a-=t/2,u-=t/2,this.rows.push({x:Math.floor(a),y:Math.floor(u),width:s,height:f,active:this.activeRows[c]})}}},{key:"highlight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.activeRows=t.reduce(function(t,n){return t[n]=!0,t},{}),this.setDirty(!0)}},{key:"getRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.rows.filter(function(n,e){return t.contains(e)})}}]),n}()},function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,i)}if("value"in r)return r.value;var c=r.get;return void 0!==c?c.call(i):void 0};var o=e(0),c=e(3);t.exports=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.init(t),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o),i(n,[{key:"init",value:function(t){this.initBanks(t.banks)}},{key:"initBanks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.banks=t,this.children=this.banks.map(function(t){return new c(t)})}},{key:"draw",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).call(this,t)}},{key:"update",value:function(){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"update",this).call(this)}},{key:"highlight",value:function(t){var n=this;this.hideBanks(),t.forEach(function(t){return n.children[t.index].highlight(t.rows)})}},{key:"hideBanks",value:function(){this.children.forEach(function(t){return t.highlight()})}}]),n}()},function(t,n,e){"use strict";var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=e(4),o=e(2),c=e(1),a=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=n,this.init()}return i(t,[{key:"init",value:function(){this.activeStepIndex=-1,this.steps=[],this.layers=[],this.connections={},this.initBreadboard(),this.initConnections(),this.initDrawer()}},{key:"initBreadboard",value:function(){this.breadboard=new r(this.config.breadboard),this.layers.push(this.breadboard)}},{key:"initConnections",value:function(){this.connections=new o({color:"#b2a474",width:10}),this.layers.push(this.connections)}},{key:"initDrawer",value:function(){this.drawer=new c}},{key:"load",value:function(t){this.drawer.load(t,this.layers),this.drawer.start()}},{key:"layout",value:function(t){var n=this;this.reset(),this.steps=t.map(function(t){var e=t.pins.reduce(function(t,e){return t[e.bank]=t[e.bank]||{rows:[],connections:[]},t[e.bank].rows.push(e.row),t[e.bank].connections.push({title:e.text,x:n.config.connections.marginLeft,y:n.config.connections.marginTop+e.row*n.config.connections.pitch}),t},{});return{banks:Object.keys(e).map(function(t){return{index:t,rows:e[t].rows,connections:e[t].connections}})}})}},{key:"reset",value:function(){this.activeStepIndex=-1,this.breadboard.highlight([]),this.connections.highlight([])}},{key:"next",value:function(){var t=this;this.drawer.reset();var n=++this.activeStepIndex>=this.steps.length?this.activeStepIndex=0:this.activeStepIndex;this.breadboard.highlight(this.steps[n].banks),this.connections.load(this.steps[n].banks.reduce(function(t,n){return Array.prototype.push.apply(t,n.connections),t},[])).then(function(){return t.connections.highlight()})}},{key:"prev",value:function(){var t=this;this.drawer.reset();var n=--this.activeStepIndex<0?this.activeStepIndex=this.steps.length-1:this.activeStepIndex;this.breadboard.highlight(this.steps[n].banks),this.connections.load(this.steps[n].banks.reduce(function(t,n){return Array.prototype.push.apply(t,n.connections),t},[])).then(function(){return t.connections.highlight()})}},{key:"parseCircuit",value:function(t){}}]),t}();t.exports=a},function(t,n,e){"use strict";var i=new(e(5))({breadboard:{banks:[{offsetX:0,offsetY:0,width:4,height:480,topMargin:30,leftMargin:30,rows:3,vertical:!0,type:"TERMINAL"},{offsetX:80,offsetY:0,width:75,height:4,topMargin:30,leftMargin:30,rows:32},{offsetX:170,offsetY:0,width:75,height:4,topMargin:30,leftMargin:30,rows:32},{offsetX:275,offsetY:0,width:75,height:4,topMargin:30,leftMargin:30,rows:32}]},connections:{marginLeft:12,marginTop:25,pitch:15}});window.addEventListener("DOMContentLoaded",function(){}),window.BurnerNew=i}]);
//# sourceMappingURL=bundle.min.js.map